# Codex Setup Checklist

This file documents how to run this assistant from the terminal using Codex CLI.

## 1) Review `CLAUDE.md`
- [ ] Confirm the workflow reference matches your current personal system.

## 2) Prereqs
- [ ] Install Codex CLI: `npm i -g @openai/codex`
- [ ] Install Node.js
- [ ] Install Python 3.13+ and `uv` (required by `mcp-gsuite-enhanced`)
- [ ] (Optional) Copy `.env.example` to `.env` for local scripts only.
- [ ] (Optional) Create a venv for local scripts:
  - `python3 -m venv venv`
  - `source venv/bin/activate`
  - `pip install -r requirements.txt`

## 3) Notion MCP (`notion-mcp`)
- [ ] Set the token in your shell (local only, do not commit):
  - `export NOTION_TOKEN="paste_token_here"`
- [ ] Add the MCP server (config stored in `~/.codex/config.toml`, shared by CLI + IDE):
  - If you use `nvm`, point PATH at the Node 20+ bin to avoid shell init output:
    - `codex mcp add notion-mcp --env NOTION_TOKEN="$NOTION_TOKEN" -- env PATH="$HOME/.nvm/versions/node/v20.20.0/bin:$PATH" npx -y @notionhq/notion-mcp-server`
  - Otherwise (Node 20+ already on PATH):
    - `codex mcp add notion-mcp --env NOTION_TOKEN="$NOTION_TOKEN" -- npx -y @notionhq/notion-mcp-server`
- [ ] Test:
  - `codex mcp list`
  - `codex exec "List my Notion databases"`
- [ ] Ensure the Life Atlas database is shared with the integration (used as the personal taxonomy).

## 4) Google Workspace MCP (`mcp-gsuite-enhanced`)
Repository location: `mcp-gsuite-enhanced/` (from this repo root).

- [ ] Clone if missing:
  - `git clone https://github.com/ajramos/mcp-gsuite-enhanced.git mcp-gsuite-enhanced`
- [ ] Install dependencies (choose one):
  - Option A (uv): `cd mcp-gsuite-enhanced && uv sync`
  - Option B (venv): `cd mcp-gsuite-enhanced && python3 -m venv .venv && .venv/bin/pip install -e .`
- [ ] Place credential files in `mcp-gsuite-enhanced/` (local only):
  - `.gauth.json` (Google OAuth desktop credentials)
  - `.accounts.json` (account list)
  - `.oauth2.<email>.json` (generated by auth script)
- [ ] Run OAuth per account (this opens a browser):
  - `python auth_setup.py your-email@gmail.com`
- [ ] (Optional) If a server supports Codex login, use `codex mcp login <server>`.
- [ ] Add the MCP server (run from this repo root so `$(pwd)` is correct):
  - If using uv:
    - `codex mcp add mcp-gsuite-enhanced -- uv --directory "$(pwd)/mcp-gsuite-enhanced" run mcp-gsuite-enhanced --gauth-file "$(pwd)/mcp-gsuite-enhanced/.gauth.json" --accounts-file "$(pwd)/mcp-gsuite-enhanced/.accounts.json" --credentials-dir "$(pwd)/mcp-gsuite-enhanced"`
  - If using venv:
    - `codex mcp add mcp-gsuite-enhanced -- "$(pwd)/mcp-gsuite-enhanced/.venv/bin/mcp-gsuite-enhanced" --gauth-file "$(pwd)/mcp-gsuite-enhanced/.gauth.json" --accounts-file "$(pwd)/mcp-gsuite-enhanced/.accounts.json" --credentials-dir "$(pwd)/mcp-gsuite-enhanced"`
- [ ] Test:
  - `codex mcp list`
  - `codex exec "List my calendars"`
  - `codex exec "Show my unread emails"`

## 5) Local task analysis scripts (optional)
- [ ] `source venv/bin/activate && python scripts/work_task_analyzer.py`
- [ ] `source venv/bin/activate && python scripts/personal_task_analyzer.py`
- [ ] `source venv/bin/activate && python scripts/personal_project_analyzer.py`

## Notes
- Do not commit secrets. Keep tokens in env vars and auth files in `mcp-gsuite-enhanced/`.
- When credentials or OAuth are required, stop and ask before pasting or running anything.
- Update `CONTEXT.md` whenever IDs, paths, or setup decisions change.
